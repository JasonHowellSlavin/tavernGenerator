(this["webpackJsonptavern-generator"]=this["webpackJsonptavern-generator"]||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),c=a.n(l),s=(a(16),a(2)),o=a.n(s),i=a(6),u=a(7),h=a(8),v=a(1),d=a(10),f=a(3),p=a(9),m=(a(18),function(e){return Math.ceil(Math.random()*e)});function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){Object(p.a)(n,e);var t,a=(t=n,function(){var e,a=Object(f.a)(t);if(g()){var n=Object(f.a)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return Object(d.a)(this,e)});function n(e){var t;return Object(u.a)(this,n),(t=a.call(this,e)).state={title:"Tavern Generator",spreadsheetID:"1mtVEMzpXl2epoFvwv25vsbVdV4NaN6ASFU1CrSMxq5o",tavernUrl:"https://spreadsheets.google.com/feeds/cells/1mtVEMzpXl2epoFvwv25vsbVdV4NaN6ASFU1CrSMxq5o/1/public/full?alt=json",bartendersUrl:"https://spreadsheets.google.com/feeds/cells/1mtVEMzpXl2epoFvwv25vsbVdV4NaN6ASFU1CrSMxq5o/2/public/full?alt=json",tavernData:[],bartenderDataClean:[],tavernDataClean:[],tavernSize:"----",currentTavern:{},currentBartender:{}},t.handleTavernSizeSelect=t.handleTavernSizeSelect.bind(Object(v.a)(t)),t.generateData=t.generateData.bind(Object(v.a)(t)),t.handleTavernSelect=t.handleTavernSelect.bind(Object(v.a)(t)),t}return Object(h.a)(n,[{key:"generateData",value:function(e){var t={};e.forEach((function(e){var a=e.title.$t.split("");1===parseInt(a[1])&&(t[a[0]]=e.content.$t)}));for(var a=Object.keys(t).length,n=[],r={},l=a;l<e.length;l++){var c=e[l].title.$t.split("")[0];r[t[c]]=e[l].content.$t,Object.keys(r).length===a&&(n.push(r),r={})}return console.log(t),console.log("final form",n),n}},{key:"handleTavernSizeSelect",value:function(e){console.log(e.target.value,this.state.tavernSize),this.setState({tavernSize:e.target.value})}},{key:"handleTavernSelect",value:function(){var e=this.state.tavernSize,t=this.state.tavernDataClean.slice(),a=this.state.bartenderDataClean.slice(),n=t.filter((function(t){return t.size.toLowerCase()===e})),r=a.filter((function(t){return t.size.toLowerCase()===e})),l=n[m(n.length)-1],c=r[m(r.length)-1];this.setState({currentTavern:l,currentBartender:c})}},{key:"componentDidMount",value:function(){var e=this;Object(i.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.state.tavernUrl).then((function(e){return e.json()}));case 2:return a=t.sent,t.next=5,fetch(e.state.bartendersUrl).then((function(e){return e.json()}));case 5:n=t.sent,console.log(a.feed,n.feed),e.generateData(a.feed.entry),e.generateData(n.feed.entry),e.setState({tavernData:a.feed.entry,tavernDataClean:e.generateData(a.feed.entry),bartenderDataClean:e.generateData(n.feed.entry)});case 10:case"end":return t.stop()}}),t)})))()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",null,r.a.createElement("p",null,this.state.title),r.a.createElement("p",null,"Select your tavern size:"),r.a.createElement("select",{value:this.state.tavernSize,onChange:this.handleTavernSizeSelect},r.a.createElement("option",{value:"----"}," ---- "),r.a.createElement("option",{value:"small"},"Small"),r.a.createElement("option",{value:"medium"},"Medium")),r.a.createElement("button",{onClick:function(){"----"!==e.state.tavernSize&&e.handleTavernSelect()}},"Go to the Tavern!")),Object.keys(this.state.currentTavern).length>0&&r.a.createElement("div",null,r.a.createElement("p",null,"You walk into a tavern called ",r.a.createElement("span",{className:"highlighted"},this.state.currentTavern.name),"."),r.a.createElement("p",null,r.a.createElement("span",{className:"highlighted"},this.state.currentTavern.atmosphere),"."),r.a.createElement("p",null,"You walk up to the bar, behind which stands ",r.a.createElement("span",{className:"highlighted"},this.state.currentBartender.name),", ",r.a.createElement("span",{className:"highlighted"},this.state.currentBartender.appearance),"."),r.a.createElement("p",null,r.a.createElement("span",{className:"highlighted"},this.state.currentBartender.greeting),"."))))}}]),n}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.4db5a4e5.chunk.js.map